{"mappings":"qhBAAA,I,EAAAA,EAAAC,EAAA,SCAO,SAASC,EAAeC,GAC7B,IAAIC,EAAO,GA+FX,OA7FEA,EADED,GAAgB,IACXE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,UAAW,YAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,UAAW,gBAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,UAAW,cAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,aACZC,UAAW,cAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,WAAY,WACZC,UAAW,cAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,aACXC,WAAY,WACZC,UAAW,cAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,SACZC,UAAW,WACXC,WAAY,WACZC,UAAW,cAGNP,GAAgB,IAClBE,EAAgB,CACrB,CACEC,UAAW,SACXC,WAAY,aACZC,UAAW,WACXC,WAAY,WACZC,UAAW,cAGNP,EAAe,IACjBE,EAAgB,CACrB,CACEC,UAAW,aACXC,WAAY,WACZC,UAAW,WACXC,WAAY,WACZC,UAAW,cAIR,kDAGFN,C,CAGT,SAASC,EAAgBD,GAevB,OAdoBA,EACjBO,KAAI,EAACL,UAAEA,EAASC,WAAEA,EAAUC,UAAEA,EAASC,WAAEA,EAAUC,UAAEA,KAC7C,sGAEwCJ,gEACAC,gEACAC,gEACAC,gEACAC,sCAIhDE,KAAK,G,CC7GH,SAASC,EAAgBC,GAgC9B,OA/B2BA,EACxBH,KAAI,EAACI,MAAEA,EAAKC,UAAEA,EAASC,aAAEA,EAAYd,aAAEA,EAAYe,YAAEA,MACpD,MAAO,4PAKyCH,wICT5BI,EDYAH,ECXAI,EAAAC,GAAqBC,OAGdC,QAAOC,GAASL,EAAIM,SAASD,EAAME,MAGvCC,MAAM,EAAG,GAAGhB,KAAIa,GAASA,EAAMI,YDM7BX,EAAaU,MAAM,EAAG,oEACMzB,EACjCC,yKAMgCe,gCAC/BH,2LCtBpB,IAAmBI,CD6Bf,IAENP,KAAK,G,CEjCVS,EAAiBQ,KAAKC,MAAM,uiBJC5B,MAAMC,EAAY,IAAI,EAAA/B,EAAAgC,WAGhBC,EAAcC,SAASC,cAAc,+BACrCC,EAAaF,SAASC,cAAc,8BACpCE,EAAgBH,SAASC,cAAc,8BAG0BG,iBACrE,IACE,MAAMC,QAAiBR,EAAUS,qBAEjCH,EAAcI,UAAY5B,EAAgB0B,EAASG,Q,CACnD,MAAOC,GACPC,QAAQC,IAAIF,E,EAGhBG,GAG2BV,EAAhBW,iBAAiB,UAGiCT,eAA3BU,GAChCA,EAAEC,iBACF,IAAIC,EAAQjB,EAAYkB,MAExB,GAAc,KAAVD,EAEiEb,EAArDI,UAAY,mKAE1B,IACE,MAAMF,QAAiBR,EAAUqB,gBAAgBF,EANxC,GAOLX,EAASc,cAAgB,EAEchB,EAA3BI,UAAY,0OAG1BJ,EAAcI,UAAY5B,EAAgB0B,EAASG,Q,CAErD,MAAOC,GACPC,QAAQC,IAAIF,E","sources":["src/js/catalog-list.js","src/js/catalog-functions/catalog-rating-get.js","src/js/catalog-functions/catalog-cards-get.js","src/js/catalog-functions/catalog-genres-get.js","src/data/genres.json"],"sourcesContent":["import { MoviesAPI } from './movies-api';\nconst moviesAPI = new MoviesAPI();\nimport { getCatalogCards } from '/src/js/catalog-functions/catalog-cards-get';\n\nconst searchInput = document.querySelector('.catalog-list__search-input');\nconst searchForm = document.querySelector('.catalog-list__search-form');\nconst moviesCatalog = document.querySelector('.catalog-list__items-list');\n\n// Функція, яка викликається при першому завантаженні сторінки. Трендові фільми тижня.\nasync function onRenderCatalogPage() {\n  try {\n    const response = await moviesAPI.getTrendMoviesWeek();\n    // console.log(response.results);\n    moviesCatalog.innerHTML = getCatalogCards(response.results);\n  } catch (err) {\n    console.log(err);\n  }\n}\nonRenderCatalogPage();\n\n// Ставимо слухача на Сабміт форми\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\n// Функція, яка викликається при сабміті форми. Фільми по пошуковому запиту.\nasync function onSearchFormSubmit(e) {\n  e.preventDefault();\n  let query = searchInput.value;\n  const page = 1;\n  if (query === '') {\n    //Якщо в полі пошуку нічого не введено - не робимо ніяких запитів і виводимо помилку\n    moviesCatalog.innerHTML = `<div class=\"catalog-list__error\"><h2 class=\"catalog-list__error-title\">OOPS...</h2><p class=\"catalog-list__error-text\">Enter search query, please!</p><div>`;\n  } else {\n    try {\n      const response = await moviesAPI.getSearchMovies(query, page);\n      if (response.total_results < 1) {\n        //Якщо результатів пошуку немає - виводимо помилку\n        moviesCatalog.innerHTML = `<div class=\"catalog-list__error\"><h2 class=\"catalog-list__error-title\">OOPS...</h2><p class=\"catalog-list__error-text\">We are very sorry!</p><p class=\"catalog-list__error-text\">We don’t have any results due to your search.</p><div>`;\n      } else {\n        // Тут виводяться результати пошуку, якщо вони. Тут же треба буде включати пейджинг, якщо результатів більше, ніж 20.\n        moviesCatalog.innerHTML = getCatalogCards(response.results);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n}\n","export function getStarsRating(vote_average) {\n  let vote = [];\n  if (vote_average >= 9.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'active',\n      },\n    ]);\n  } else if (vote_average >= 8.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'activehalf',\n      },\n    ]);\n  } else if (vote_average >= 7.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 6.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'activehalf',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 5.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 4.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'activehalf',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 3.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 2.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'activehalf',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average < 1.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'activehalf',\n        secondStar: 'noactive',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else {\n    vote = 'Помилка: проблема у файлі catalog-rating-get.js';\n  }\n  // console.log(vote);\n  return vote;\n}\n\nfunction renderStarsList(vote) {\n  const starsMarkup = vote\n    .map(({ firstStar, secondStar, thirdStar, fourthStar, fifthStar }) => {\n      return `\n      <ul class=\"catalog-list-rating__list\">\n        <li class=\"catalog-list-rating__list-item--${firstStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${secondStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${thirdStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${fourthStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${fifthStar}\"></li>\n      </ul>\n          `;\n    })\n    .join('');\n  // console.log(starsMarkup);\n  return starsMarkup;\n}\n","import { getGenres } from './catalog-genres-get';\nimport { getStarsRating } from './catalog-rating-get';\n\nexport function getCatalogCards(backendQuery) {\n  const catalogCardsMarkup = backendQuery\n    .map(({ title, genre_ids, release_date, vote_average, poster_path }) => {\n      return `\n    <li class='catalog-list__item'>\n        <a href='#' class='catalog-list__list-link'>\n            <div class='catalog-list__list-wrapper'>\n                <div class='catalog-list__info'>\n                    <h2 class='catalog-list__title'>${title}</h2>\n                    <div class='catalog-list__additional-info'>\n                        <p class='catalog-list__movie-type'>${getGenres(\n                          genre_ids\n                        )} | ${release_date.slice(0, 4)}</p>\n                        <div class='catalog-list-rating'>${getStarsRating(\n                          vote_average\n                        )}\n                        </div>\n                    </div>\n                </div>\n                <img\n                    src='https://image.tmdb.org/t/p/w500${poster_path}'\n                    alt='${title}'\n                    width='280'\n                    height='406'\n                    class='catalog-list__image'\n                />\n            </div>\n        </a>\n    </li> `;\n    })\n    .join('');\n  // console.log(catalogCardsMarkup);\n  return catalogCardsMarkup;\n}\n","import genresFromLocaleFile from '/src/data/genres.json'; // Це локальний json з жанрами фільмів\n\nexport function getGenres(ids) {\n  const genresLocalList = genresFromLocaleFile.genres;\n  //   console.log(genresLocalList[0].name);\n\n  const genres = genresLocalList.filter(genre => ids.includes(genre.id));\n  //   console.log(genres);\n\n  const genresNames = genres.slice(0, 2).map(genre => genre.name);\n  // console.log(genresNames);\n\n  return genresNames;\n}\n","{\n  \"genres\": [\n    { \"id\": 28, \"name\": \"Action\" },\n    { \"id\": 12, \"name\": \"Adventure\" },\n    { \"id\": 16, \"name\": \"Animation\" },\n    { \"id\": 35, \"name\": \"Comedy\" },\n    { \"id\": 80, \"name\": \"Crime\" },\n    { \"id\": 99, \"name\": \"Documentary\" },\n    { \"id\": 18, \"name\": \"Drama\" },\n    { \"id\": 10751, \"name\": \"Family\" },\n    { \"id\": 14, \"name\": \"Fantasy\" },\n    { \"id\": 36, \"name\": \"History\" },\n    { \"id\": 27, \"name\": \"Horror\" },\n    { \"id\": 10402, \"name\": \"Music\" },\n    { \"id\": 9648, \"name\": \"Mystery\" },\n    { \"id\": 10749, \"name\": \"Romance\" },\n    { \"id\": 878, \"name\": \"Science Fiction\" },\n    { \"id\": 10770, \"name\": \"TV Movie\" },\n    { \"id\": 53, \"name\": \"Thriller\" },\n    { \"id\": 10752, \"name\": \"War\" },\n    { \"id\": 37, \"name\": \"Western\" }\n  ]\n}\n"],"names":["$kzzqr","parcelRequire","$0e9c1210359cb1b8$export$41a923085f61d39d","vote_average","vote","$0e9c1210359cb1b8$var$renderStarsList","firstStar","secondStar","thirdStar","fourthStar","fifthStar","map","join","$5c0b947b13cfe561$export$70db69f8a333b830","backendQuery","title","genre_ids","release_date","poster_path","ids","$parcel$interopDefault","$1ae34be059c06646$exports","genres","filter","genre","includes","id","slice","name","JSON","parse","$2ce933fb81297aec$var$moviesAPI","MoviesAPI","$2ce933fb81297aec$var$searchInput","document","querySelector","$2ce933fb81297aec$var$searchForm","$2ce933fb81297aec$var$moviesCatalog","async","response","getTrendMoviesWeek","innerHTML","results","err","console","log","$2ce933fb81297aec$var$onRenderCatalogPage","addEventListener","e","preventDefault","query","value","getSearchMovies","total_results"],"version":3,"file":"catalog.e145104b.js.map"}
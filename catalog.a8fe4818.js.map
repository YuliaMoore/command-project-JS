{"mappings":"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","sources":["src/js/catalog-list.js","src/js/catalog-functions/catalog-rating-get.js","src/js/catalog-functions/catalog-cards-get.js","src/js/catalog-functions/catalog-genres-get.js","src/data/genres.json"],"sourcesContent":["import { MoviesAPI } from './movies-api';\nconst moviesAPI = new MoviesAPI();\nimport { getCatalogCards } from '/src/js/catalog-functions/catalog-cards-get';\n\nconst searchInput = document.querySelector('.catalog-list__search-input');\nconst searchForm = document.querySelector('.catalog-list__search-form');\nconst moviesCatalog = document.querySelector('.catalog-list__items-list');\n\n// Функція, яка викликається при першому завантаженні сторінки. Трендові фільми тижня.\nasync function onRenderCatalogPage() {\n  try {\n    const response = await moviesAPI.getTrendMoviesWeek();\n    // console.log(response.results);\n    moviesCatalog.innerHTML = getCatalogCards(response.results);\n  } catch (err) {\n    console.log(err);\n  }\n}\nonRenderCatalogPage();\n\n// Ставимо слухача на Сабміт форми\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\n// Функція, яка викликається при сабміті форми. Фільми по пошуковому запиту.\nasync function onSearchFormSubmit(e) {\n  e.preventDefault();\n  let query = searchInput.value;\n  const page = 1;\n  if (query === '') {\n    //Якщо в полі пошуку нічого не введено - не робимо ніяких запитів і виводимо помилку\n    moviesCatalog.innerHTML = `<div class=\"catalog-list__error\"><h2 class=\"catalog-list__error-title\">OOPS...</h2><p class=\"catalog-list__error-text\">Enter search query, please!</p><div>`;\n  } else {\n    try {\n      const response = await moviesAPI.getSearchMovies(query, page);\n      if (response.total_results < 1) {\n        //Якщо результатів пошуку немає - виводимо помилку\n        moviesCatalog.innerHTML = `<div class=\"catalog-list__error\"><h2 class=\"catalog-list__error-title\">OOPS...</h2><p class=\"catalog-list__error-text\">We are very sorry!</p><p class=\"catalog-list__error-text\">We don’t have any results due to your search.</p><div>`;\n      } else {\n        // Тут виводяться результати пошуку, якщо вони. Тут же треба буде включати пейджинг, якщо результатів більше, ніж 20.\n        moviesCatalog.innerHTML = getCatalogCards(response.results);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n}\n","export function getStarsRating(vote_average) {\n  let vote = [];\n  if (vote_average >= 9.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'active',\n      },\n    ]);\n  } else if (vote_average >= 8.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'activehalf',\n      },\n    ]);\n  } else if (vote_average >= 7.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'active',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 6.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'activehalf',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 5.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'active',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 4.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'activehalf',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 3.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'active',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average >= 2.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'active',\n        secondStar: 'activehalf',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else if (vote_average < 1.5) {\n    vote = renderStarsList([\n      {\n        firstStar: 'activehalf',\n        secondStar: 'noactive',\n        thirdStar: 'noactive',\n        fourthStar: 'noactive',\n        fifthStar: 'noactive',\n      },\n    ]);\n  } else {\n    vote = 'Помилка: проблема у файлі catalog-rating-get.js';\n  }\n  // console.log(vote);\n  return vote;\n}\n\nfunction renderStarsList(vote) {\n  const starsMarkup = vote\n    .map(({ firstStar, secondStar, thirdStar, fourthStar, fifthStar }) => {\n      return `\n      <ul class=\"catalog-list-rating__list\">\n        <li class=\"catalog-list-rating__list-item--${firstStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${secondStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${thirdStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${fourthStar}\"></li>\n        <li class=\"catalog-list-rating__list-item--${fifthStar}\"></li>\n      </ul>\n          `;\n    })\n    .join('');\n  // console.log(starsMarkup);\n  return starsMarkup;\n}\n","import { getGenres } from './catalog-genres-get';\nimport { getStarsRating } from './catalog-rating-get';\n\nexport function getCatalogCards(backendQuery) {\n  const catalogCardsMarkup = backendQuery\n    .map(({ title, genre_ids, release_date, vote_average, poster_path }) => {\n      return `\n    <li class='catalog-list__item'>\n        <a href='#' class='catalog-list__list-link'>\n            <div class='catalog-list__list-wrapper'>\n                <div class='catalog-list__info'>\n                    <h2 class='catalog-list__title'>${title}</h2>\n                    <div class='catalog-list__additional-info'>\n                        <p class='catalog-list__movie-type'>${getGenres(\n                          genre_ids\n                        )} | ${release_date.slice(0, 4)}</p>\n                        <div class='catalog-list-rating'>${getStarsRating(\n                          vote_average\n                        )}\n                        </div>\n                    </div>\n                </div>\n                <img\n                    src='https://image.tmdb.org/t/p/w500${poster_path}'\n                    alt='${title}'\n                    width='280'\n                    height='406'\n                    class='catalog-list__image'\n                />\n            </div>\n        </a>\n    </li> `;\n    })\n    .join('');\n  // console.log(catalogCardsMarkup);\n  return catalogCardsMarkup;\n}\n","import genresFromLocaleFile from '/src/data/genres.json'; // Це локальний json з жанрами фільмів\n\nexport function getGenres(ids) {\n  const genresLocalList = genresFromLocaleFile.genres;\n  //   console.log(genresLocalList[0].name);\n\n  const genres = genresLocalList.filter(genre => ids.includes(genre.id));\n  //   console.log(genres);\n\n  const genresNames = genres.slice(0, 2).map(genre => genre.name);\n  // console.log(genresNames);\n\n  return genresNames;\n}\n","{\n  \"genres\": [\n    { \"id\": 28, \"name\": \"Action\" },\n    { \"id\": 12, \"name\": \"Adventure\" },\n    { \"id\": 16, \"name\": \"Animation\" },\n    { \"id\": 35, \"name\": \"Comedy\" },\n    { \"id\": 80, \"name\": \"Crime\" },\n    { \"id\": 99, \"name\": \"Documentary\" },\n    { \"id\": 18, \"name\": \"Drama\" },\n    { \"id\": 10751, \"name\": \"Family\" },\n    { \"id\": 14, \"name\": \"Fantasy\" },\n    { \"id\": 36, \"name\": \"History\" },\n    { \"id\": 27, \"name\": \"Horror\" },\n    { \"id\": 10402, \"name\": \"Music\" },\n    { \"id\": 9648, \"name\": \"Mystery\" },\n    { \"id\": 10749, \"name\": \"Romance\" },\n    { \"id\": 878, \"name\": \"Science Fiction\" },\n    { \"id\": 10770, \"name\": \"TV Movie\" },\n    { \"id\": 53, \"name\": \"Thriller\" },\n    { \"id\": 10752, \"name\": \"War\" },\n    { \"id\": 37, \"name\": \"Western\" }\n  ]\n}\n"],"names":["$bpxeT","parcelRequire","$f9bb5f727f5ef788$export$41a923085f61d39d","vote_average","$f9bb5f727f5ef788$var$renderStarsList","firstStar","secondStar","thirdStar","fourthStar","fifthStar","vote","map","param","concat","join","$2fe5e733814d7f70$export$70db69f8a333b830","backendQuery","ids","title","genre_ids","release_date","poster_path","$parcel$interopDefault","$7ff20dcc6377e5ac$exports","genres","filter","genre","includes","id","slice","name","JSON","parse","$447c261ae538ca5f$var$moviesAPI","$jlbHq","MoviesAPI","$447c261ae538ca5f$var$searchInput","document","querySelector","$447c261ae538ca5f$var$searchForm","$447c261ae538ca5f$var$moviesCatalog","$447c261ae538ca5f$var$_onRenderCatalogPage","$2TvXO","mark","_callee","response","getTrendMoviesWeek","_ctx","sent","innerHTML","results","console","log","t0","apply","this","arguments","$447c261ae538ca5f$var$_onSearchFormSubmit","e","query","page","preventDefault","value","getSearchMovies","total_results","$447c261ae538ca5f$var$onRenderCatalogPage","addEventListener"],"version":3,"file":"catalog.a8fe4818.js.map"}